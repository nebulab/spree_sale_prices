<table id="product_sale_prices" class="index" data-hook="sale_price_table">
  <colgroup>
    <col />
    <col />
    <col />
    <col style="width: 30%" />
    <col style="width: 30%" />
    <col />
    <col />
  </colgroup>

  <thead>
    <tr data-hook="products_header">
      <th><%= Spree.t('sku') %></th>
      <th><%= Spree.t('sale_price_active') %></th>
      <th><%= Spree.t('sale_price') %></th>
      <th><%= Spree.t('sale_price_start_at') %></th>
      <th><%= Spree.t('sale_price_end_at') %></th>
      <th><%= Spree.t('sale_price_enabled') %></th>
      <th class="actions" />
    </tr>
  </thead>

  <tbody>
    <% if product.variants.any? %>
      <%= render partial: "sale_price", collection: product.variants.flat_map(&:sale_prices) %>
    <% else %>
      <%= render partial: "sale_price", collection: product.master.sale_prices %>
    <% end %>
  </tbody>
</table>
